"use strict";(self.webpackChunkexplorer_docs=self.webpackChunkexplorer_docs||[]).push([[9644],{4137:(e,t,a)=>{a.d(t,{Zo:()=>s,kt:()=>c});var l=a(7294);function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function n(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,l,i=function(e,t){if(null==e)return{};var a,l,i={},r=Object.keys(e);for(l=0;l<r.length;l++)a=r[l],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(l=0;l<r.length;l++)a=r[l],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var d=l.createContext({}),p=function(e){var t=l.useContext(d),a=t;return e&&(a="function"==typeof e?e(t):n(n({},t),e)),a},s=function(e){var t=p(e.components);return l.createElement(d.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return l.createElement(l.Fragment,{},t)}},m=l.forwardRef((function(e,t){var a=e.components,i=e.mdxType,r=e.originalType,d=e.parentName,s=o(e,["components","mdxType","originalType","parentName"]),m=p(a),c=i,h=m["".concat(d,".").concat(c)]||m[c]||u[c]||r;return a?l.createElement(h,n(n({ref:t},s),{},{components:a})):l.createElement(h,n({ref:t},s))}));function c(e,t){var a=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=a.length,n=new Array(r);n[0]=m;var o={};for(var d in t)hasOwnProperty.call(t,d)&&(o[d]=t[d]);o.originalType=e,o.mdxType="string"==typeof e?e:i,n[1]=o;for(var p=2;p<r;p++)n[p]=a[p];return l.createElement.apply(null,n)}return l.createElement.apply(null,a)}m.displayName="MDXCreateElement"},4197:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>d,contentTitle:()=>n,default:()=>u,frontMatter:()=>r,metadata:()=>o,toc:()=>p});var l=a(7462),i=(a(7294),a(4137));const r={sidebar_position:4,toc_max_heading_level:5},n="Helpers",o={unversionedId:"api/helpers",id:"api/helpers",title:"Helpers",description:"This page is a draft and some informations might be missing.",source:"@site/docs/api/helpers.md",sourceDirName:"api",slug:"/api/helpers",permalink:"/explorer/api/helpers",draft:!1,editUrl:"https://github.com/D2KLab/explorer/tree/master/docs/docs/api/helpers.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4,toc_max_heading_level:5},sidebar:"api",previous:{title:"theme.js",permalink:"/explorer/api/theme"},next:{title:"Body",permalink:"/explorer/api/components/Body"}},d={},p=[{value:"utils",id:"utils",level:2},{value:"<code>uriToId</code>",id:"uritoid",level:3},{value:"Example with code",id:"example-with-code",level:4},{value:"<code>idToUri</code>",id:"idtouri",level:3},{value:"Parameters",id:"parameters",level:4},{value:"Example with code",id:"example-with-code-1",level:4},{value:"<code>generateMediaUrl</code>",id:"generatemediaurl",level:3},{value:"Parameters",id:"parameters-1",level:4},{value:"Example with code",id:"example-with-code-2",level:4},{value:"<code>absoluteUrl</code>",id:"absoluteurl",level:3},{value:"Parameters",id:"parameters-2",level:4},{value:"Example with code",id:"example-with-code-3",level:4},{value:"<code>getQueryObject</code>",id:"getqueryobject",level:3},{value:"Example with code",id:"example-with-code-4",level:3},{value:"<code>slugify</code>",id:"slugify",level:3},{value:"Example with code",id:"example-with-code-5",level:3},{value:"<code>linkify</code>",id:"linkify",level:3},{value:"Example with code",id:"example-with-code-6",level:3},{value:"api",id:"api",level:2},{value:"<code>validateRequest</code>",id:"validaterequest",level:3},{value:"Parameters",id:"parameters-3",level:4},{value:"<code>withRequestValidation</code>",id:"withrequestvalidation",level:3},{value:"Parameters",id:"parameters-4",level:4},{value:"Example with code",id:"example-with-code-7",level:4},{value:"explorer",id:"explorer",level:2},{value:"<code>findRouteByRDFType</code>",id:"findroutebyrdftype",level:3},{value:"<code>getEntityMainLabel</code>",id:"getentitymainlabel",level:3},{value:"<code>getEntityMainImage</code>",id:"getentitymainimage",level:3},{value:"<code>generatePermalink</code>",id:"generatepermalink",level:3},{value:"<code>getSearchData</code>",id:"getsearchdata",level:3},{value:"sparql",id:"sparql",level:2},{value:"<code>getSparqlQuery</code>",id:"getsparqlquery",level:3},{value:"<code>query</code>",id:"query",level:3},{value:"useDebounce",id:"usedebounce",level:2},{value:"useDidMountEffect",id:"usedidmounteffect",level:2},{value:"useGraphs",id:"usegraphs",level:2},{value:"useOnScreen",id:"useonscreen",level:2}],s={toc:p};function u(e){let{components:t,...a}=e;return(0,i.kt)("wrapper",(0,l.Z)({},s,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"helpers"},"Helpers"),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"This page is a draft and some informations might be missing.")),(0,i.kt)("h2",{id:"utils"},"utils"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Module: ",(0,i.kt)("inlineCode",{parentName:"li"},"@helpers/utils"))),(0,i.kt)("h3",{id:"uritoid"},(0,i.kt)("inlineCode",{parentName:"h3"},"uriToId")),(0,i.kt)("p",null,"Gets the last part of an URI."),(0,i.kt)("h4",{id:"example-with-code"},"Example with code"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"uri")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"{ base }"))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"import { uriToId } from '@helpers/utils';\n\n// returns \"Tim_Berners-Lee\"\nuriToId('http://dbpedia.org/page/Tim_Berners-Lee', { base: 'http://dbpedia.org/page' })\n")),(0,i.kt)("h3",{id:"idtouri"},(0,i.kt)("inlineCode",{parentName:"h3"},"idToUri")),(0,i.kt)("p",null,"Converts an ID back to an URI, given a base."),(0,i.kt)("h4",{id:"parameters"},"Parameters"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"id")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"{ base }"))),(0,i.kt)("h4",{id:"example-with-code-1"},"Example with code"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"import { idToUri } from '@helpers/utils';\n\n// returns \"http://dbpedia.org/page/Tim_Berners-Lee\"\nidToUri('Tim_Berners-Lee', { base: 'http://dbpedia.org/page' })\n")),(0,i.kt)("h3",{id:"generatemediaurl"},(0,i.kt)("inlineCode",{parentName:"h3"},"generateMediaUrl")),(0,i.kt)("p",null,"Generates an optimized version of an image by using the embedded image processing service from D2KLab Explorer."),(0,i.kt)("p",null,"This is particularly useful for generating thumbnails."),(0,i.kt)("h4",{id:"parameters-1"},"Parameters"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"url")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"width")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"height"))),(0,i.kt)("h4",{id:"example-with-code-2"},"Example with code"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"import { generateMediaUrl } from '@helpers/utils';\n\n// returns the URL as a string\ngenerateMediaUrl(url, 150, 150);\n")),(0,i.kt)("h3",{id:"absoluteurl"},(0,i.kt)("inlineCode",{parentName:"h3"},"absoluteUrl")),(0,i.kt)("h4",{id:"parameters-2"},"Parameters"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"req = {NextApiRequest}")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},'localhostAddress = {string | default: "localhost:3000"}'))),(0,i.kt)("h4",{id:"example-with-code-3"},"Example with code"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"// highlight-start\nimport { absoluteUrl } from '@helpers/utils';\n// highlight-end\n\nexport async function getServerSideProps({ req, res, query, locale }) {\n  const graphs = await (\n    await fetch(\n      // highlight-start\n      `${absoluteUrl(req)}/api/graphs`,\n      // highlight-end\n      {\n        headers: req.headers,\n      }\n    )\n  ).json();\n}\n")),(0,i.kt)("h3",{id:"getqueryobject"},(0,i.kt)("inlineCode",{parentName:"h3"},"getQueryObject")),(0,i.kt)("h3",{id:"example-with-code-4"},"Example with code"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"// highlight-start\nconst queryObj = getQueryObject(query);\n// highlight-end\nconst results = await SparqlClient.query(queryObj);\n")),(0,i.kt)("h3",{id:"slugify"},(0,i.kt)("inlineCode",{parentName:"h3"},"slugify")),(0,i.kt)("h3",{id:"example-with-code-5"},"Example with code"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},'// returns "rene-descartes"\nslugify("Ren\xe9 Descartes");\n')),(0,i.kt)("h3",{id:"linkify"},(0,i.kt)("inlineCode",{parentName:"h3"},"linkify")),(0,i.kt)("h3",{id:"example-with-code-6"},"Example with code"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},'// returns "The url <a href="https://dbpedia.org/" target="_blank">https://dbpedia.org/</a> is now clickable"\nlinkify("The url https://dbpedia.org/ is now clickable")\n')),(0,i.kt)("h2",{id:"api"},"api"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Module: ",(0,i.kt)("inlineCode",{parentName:"li"},"@helpers/api"))),(0,i.kt)("h3",{id:"validaterequest"},(0,i.kt)("inlineCode",{parentName:"h3"},"validateRequest")),(0,i.kt)("p",null,"Check if a request is valid based on passed options."),(0,i.kt)("h4",{id:"parameters-3"},"Parameters"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"req")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"res")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"options"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"useSession")," (",(0,i.kt)("inlineCode",{parentName:"li"},"boolean"),"): Checks if the user is authenticated, otherwise throw an HTTPError 403."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"allowedMethods")," (",(0,i.kt)("inlineCode",{parentName:"li"},"string[]"),"): Checks if the HTTP method is allowed.")))),(0,i.kt)("h3",{id:"withrequestvalidation"},(0,i.kt)("inlineCode",{parentName:"h3"},"withRequestValidation")),(0,i.kt)("h4",{id:"parameters-4"},"Parameters"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"options"),": Same options as for ",(0,i.kt)("a",{parentName:"li",href:"#validateRequest"},"validateRequest"),".")),(0,i.kt)("h4",{id:"example-with-code-7"},"Example with code"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"import { withRequestValidation } from '@helpers/api';\n\nexport default withRequestValidation({\n  useSession: true,\n  allowedMethods: ['POST'],\n})(async (req, res) => {\n  res.status(200).end();\n});\n")),(0,i.kt)("h2",{id:"explorer"},"explorer"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Module: ",(0,i.kt)("inlineCode",{parentName:"li"},"@helpers/explorer"))),(0,i.kt)("h3",{id:"findroutebyrdftype"},(0,i.kt)("inlineCode",{parentName:"h3"},"findRouteByRDFType")),(0,i.kt)("h3",{id:"getentitymainlabel"},(0,i.kt)("inlineCode",{parentName:"h3"},"getEntityMainLabel")),(0,i.kt)("h3",{id:"getentitymainimage"},(0,i.kt)("inlineCode",{parentName:"h3"},"getEntityMainImage")),(0,i.kt)("h3",{id:"generatepermalink"},(0,i.kt)("inlineCode",{parentName:"h3"},"generatePermalink")),(0,i.kt)("h3",{id:"getsearchdata"},(0,i.kt)("inlineCode",{parentName:"h3"},"getSearchData")),(0,i.kt)("h2",{id:"sparql"},"sparql"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Module: ",(0,i.kt)("inlineCode",{parentName:"li"},"@helpers/sparql"))),(0,i.kt)("h3",{id:"getsparqlquery"},(0,i.kt)("inlineCode",{parentName:"h3"},"getSparqlQuery")),(0,i.kt)("h3",{id:"query"},(0,i.kt)("inlineCode",{parentName:"h3"},"query")),(0,i.kt)("h2",{id:"usedebounce"},"useDebounce"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Module: ",(0,i.kt)("inlineCode",{parentName:"li"},"@helpers/useDebounce"))),(0,i.kt)("p",null,"Hook based on ",(0,i.kt)("a",{parentName:"p",href:"https://usehooks.com/useDebounce/"},"useDebounce"),"."),(0,i.kt)("h2",{id:"usedidmounteffect"},"useDidMountEffect"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Module: ",(0,i.kt)("inlineCode",{parentName:"li"},"@helpers/useDidMountEffect"))),(0,i.kt)("p",null,"Used like ",(0,i.kt)("inlineCode",{parentName:"p"},"useEffect")," but will only be triggered after the initial mount."),(0,i.kt)("h2",{id:"usegraphs"},"useGraphs"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Module: ",(0,i.kt)("inlineCode",{parentName:"li"},"@helpers/useGraphs"))),(0,i.kt)("h2",{id:"useonscreen"},"useOnScreen"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Module: ",(0,i.kt)("inlineCode",{parentName:"li"},"@helpers/useOnScreen"))),(0,i.kt)("p",null,"Hook based on ",(0,i.kt)("a",{parentName:"p",href:"https://usehooks.com/useOnScreen/"},"useOnScreen"),"."))}u.isMDXComponent=!0}}]);